[{"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\App.js":"1","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\AccountSetting\\AccountSetting.js":"2","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Nav\\AdminUI\\AdminUI.js":"3","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Nav\\UserUI.js":"4","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\DirectMessage\\CreateConversationFormValidation.js":"5","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Profile\\muiMiniCard.js":"6","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Skills\\SkillCard.js":"7","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\contexts\\AuthContext.js":"8","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Nav\\PublicUI.js":"9","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Nav\\Nav.js":"10","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Nav\\AdminUI\\CreateContentPopupMenu.js":"11","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Gallery\\Sort.js":"12","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Info\\Info.js":"13","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Gallery\\CreateGallery.js":"14","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\DirectMessage\\Conversation.js":"15","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\DirectMessage\\DirectMessage.js":"16","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\DirectMessage\\Messages.js":"17","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Contact\\Contact.js":"18","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Blog\\BlogPostCard.js":"19","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Blog\\Sort.js":"20","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\index.js":"21","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\DirectMessage\\UserDetails.js":"22","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\firebase.js":"23","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Footer\\Footer.js":"24","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Nav\\AdminUI\\AccountPopupMenu.js":"25","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Skeleton\\Contents.js":"26","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Profile\\Profile.js":"27","E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Reviews\\ReviewCard.js":"28"},{"size":2452,"mtime":1616600612450,"results":"29","hashOfConfig":"30"},{"size":14912,"mtime":1616597948534,"results":"31","hashOfConfig":"30"},{"size":3971,"mtime":1616600758906,"results":"32","hashOfConfig":"30"},{"size":6420,"mtime":1616658079719,"results":"33","hashOfConfig":"30"},{"size":211,"mtime":1616597948538,"results":"34","hashOfConfig":"30"},{"size":1036,"mtime":1616597948544,"results":"35","hashOfConfig":"30"},{"size":5802,"mtime":1616597948547,"results":"36","hashOfConfig":"30"},{"size":3926,"mtime":1616600685066,"results":"37","hashOfConfig":"30"},{"size":1365,"mtime":1616601147159,"results":"38","hashOfConfig":"30"},{"size":1160,"mtime":1616600722593,"results":"39","hashOfConfig":"30"},{"size":5749,"mtime":1616600782054,"results":"40","hashOfConfig":"30"},{"size":3546,"mtime":1616600849516,"results":"41","hashOfConfig":"30"},{"size":4589,"mtime":1616600851146,"results":"42","hashOfConfig":"30"},{"size":11683,"mtime":1616600852756,"results":"43","hashOfConfig":"30"},{"size":2829,"mtime":1616600894253,"results":"44","hashOfConfig":"30"},{"size":3797,"mtime":1616600916230,"results":"45","hashOfConfig":"30"},{"size":510,"mtime":1616600928727,"results":"46","hashOfConfig":"30"},{"size":18663,"mtime":1616600979713,"results":"47","hashOfConfig":"30"},{"size":13988,"mtime":1616600995115,"results":"48","hashOfConfig":"30"},{"size":3516,"mtime":1616601027025,"results":"49","hashOfConfig":"30"},{"size":435,"mtime":1616597948549,"results":"50","hashOfConfig":"30"},{"size":1585,"mtime":1616597948539,"results":"51","hashOfConfig":"30"},{"size":767,"mtime":1616597948549,"results":"52","hashOfConfig":"30"},{"size":2593,"mtime":1616643731759,"results":"53","hashOfConfig":"30"},{"size":3050,"mtime":1616644390814,"results":"54","hashOfConfig":"30"},{"size":3848,"mtime":1616645052330,"results":"55","hashOfConfig":"30"},{"size":11283,"mtime":1616647924864,"results":"56","hashOfConfig":"30"},{"size":12919,"mtime":1616648179509,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1asfls7",{"filePath":"60","messages":"61","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"90"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"97","messages":"98","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"111","messages":"112","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"113","messages":"114","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"115","messages":"116","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"76"},"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\App.js",[],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\AccountSetting\\AccountSetting.js",["118","119","120","121","122","123","124"],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Nav\\AdminUI\\AdminUI.js",["125","126"],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Nav\\UserUI.js",["127"],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\DirectMessage\\CreateConversationFormValidation.js",[],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Profile\\muiMiniCard.js",[],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Skills\\SkillCard.js",[],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\contexts\\AuthContext.js",["128"],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Nav\\PublicUI.js",[],["129","130"],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Nav\\Nav.js",[],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Nav\\AdminUI\\CreateContentPopupMenu.js",["131"],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Gallery\\Sort.js",[],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Info\\Info.js",[],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Gallery\\CreateGallery.js",["132"],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\DirectMessage\\Conversation.js",["133"],"import React, { useEffect, useState } from \"react\";\r\n\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport app from \"../../firebase\";\r\n\r\nimport Messages from \"./Messages\";\r\n\r\nimport { conversationMui } from \"./muiConversation\";\r\nimport { FormControl, TextField, Box } from \"@material-ui/core\";\r\n\r\nconst Conversation = (props) => {\r\n  const { currentUser } = useAuth();\r\n  const { scID, classes } = props;\r\n\r\n  const [messages, setMessages] = useState([]);\r\n  const [textMessage, setTextMessage] = useState(\"\");\r\n  // const dummy = useRef();\r\n  useEffect(() => {\r\n    console.log(\"colleced conversation\");\r\n    getConversation();\r\n  }, []);\r\n\r\n  const getConversation = async () => {\r\n    const db = app.firestore();\r\n    let conv = db\r\n      .collection(\"conversations\")\r\n      .doc(`${scID.conversationID}`)\r\n      .collection(\"messages\")\r\n      .orderBy(\"messageCreatedAt\")\r\n      .limitToLast(15);\r\n\r\n    conv.onSnapshot((messages) => {\r\n      let bo = [];\r\n      messages.forEach((message) => {\r\n        bo.push(message.data());\r\n      });\r\n      setMessages(bo);\r\n\r\n      // dummy.current.scrollIntoView({ behavior: \"smooth\" });\r\n    });\r\n  };\r\n  //   console.log(messages);\r\n\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault();\r\n    const db = app.firestore();\r\n\r\n    const newText = {\r\n      messageID: uuidv4(),\r\n      messageCreatedAt: new Date().toISOString(),\r\n      messageBody: textMessage,\r\n      senderUID: currentUser.uid,\r\n      senderDisplayname: currentUser.displayName,\r\n      senderPhotoUrl: currentUser.photoURL,\r\n    };\r\n\r\n    await db\r\n      .collection(\"conversations\")\r\n      .doc(`${scID.conversationID}`)\r\n      .collection(\"messages\")\r\n      .doc(newText.messageID)\r\n      .set(newText)\r\n      .then(() => {\r\n        setTextMessage(\"\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box className={classes.container}>\r\n        <Messages messages={messages} />\r\n      </Box>\r\n\r\n      <div className={classes.inputArea}>\r\n        <form>\r\n          <FormControl\r\n            fullWidth\r\n            style={{\r\n              padding: \"0px 30px 10px 30px\",\r\n              height: \"30px\",\r\n              margin: 0,\r\n            }}\r\n          >\r\n            <TextField\r\n              placeholder=\"Type a message\"\r\n              type=\"text\"\r\n              margin=\"normal\"\r\n              required\r\n              value={textMessage}\r\n              autoFocus\r\n              onChange={(e) => setTextMessage(e.target.value)}\r\n              onKeyPress={(e) => (e.key === \"Enter\" ? sendMessage(e) : null)}\r\n              className={classes.rootx}\r\n            />\r\n          </FormControl>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withStyles(conversationMui)(Conversation);\r\n",["134","135"],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\DirectMessage\\DirectMessage.js",["136"],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\DirectMessage\\Messages.js",[],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Contact\\Contact.js",["137","138","139","140"],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Blog\\BlogPostCard.js",["141","142","143","144"],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Blog\\Sort.js",[],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\index.js",[],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\DirectMessage\\UserDetails.js",["145"],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\firebase.js",[],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Footer\\Footer.js",[],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Nav\\AdminUI\\AccountPopupMenu.js",["146","147","148"],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Skeleton\\Contents.js",["149"],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Profile\\Profile.js",["150","151","152"],"E:\\CODE\\PRODUCTION\\Professional Portfolio\\source\\src\\components\\Reviews\\ReviewCard.js",["153","154","155","156","157"],"import React, { useState, useEffect, useMemo } from \"react\";\r\n\r\nimport { formatDistanceToNow } from \"date-fns\";\r\nimport { Formik, Form } from \"formik\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// #firebase :\r\nimport app from \"../../firebase\";\r\n\r\n// #contexts :\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\n\r\n// #components :\r\nimport UpdateReview from \"./UpdateReview\";\r\nimport ProfileMiniCard from \"../Profile/ProfileMiniCard\";\r\nimport ReviewCommentsCard from \"./ReviewCommentsCard\";\r\n\r\n// #hooks :\r\nimport { useSnackbar } from \"notistack\";\r\n\r\n// #validations :\r\nimport { validationSchema } from \"./ReviewCommentFormValidations\";\r\n\r\n// #material-ui :\r\nimport clsx from \"clsx\";\r\nimport { MuiDistributor } from \"../../muiTheme/MuiDistributor\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  CardContent,\r\n  Divider,\r\n  Avatar,\r\n  Typography,\r\n  IconButton,\r\n  CardActions,\r\n  Menu,\r\n  MenuItem,\r\n  Collapse,\r\n  Modal,\r\n  Fade,\r\n  Backdrop,\r\n  Grid,\r\n  TextareaAutosize,\r\n  FormControl,\r\n  Box,\r\n} from \"@material-ui/core\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport ShareIcon from \"@material-ui/icons/Share\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport CommentIcon from \"@material-ui/icons/Comment\";\r\nconst ReviewCard = (props) => {\r\n  const { currentUser } = useAuth();\r\n  const { classes, review, deleteReview } = props;\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [reviewComments, setReviewComments] = useState([]);\r\n\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [menuOpen, setMenuOpen] = useState(null);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [isText, setIsText] = useState(false);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // #handlers : Menu\r\n  const handleMenuOpen = (event) => {\r\n    setMenuOpen(event.currentTarget);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setMenuOpen(null);\r\n  };\r\n\r\n  // #handlers : collapse\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  // #handlers : modal\r\n  const handleOpenModel = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleCloseModel = () => {\r\n    setOpen(false);\r\n    setMenuOpen(null);\r\n  };\r\n\r\n  // #handlers : menu\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  // #handlers : get call comment\r\n  useEffect(() => {\r\n    getReviewComments();\r\n    console.log(\"collected blogsComments\");\r\n  }, [expanded]);\r\n\r\n  const getReviewComments = async () => {\r\n    setLoading(true);\r\n    let db = app.firestore();\r\n    await db\r\n      .collection(\"reviewComments\")\r\n      .where(\"reviewID\", \"==\", `${review.reviewID}`)\r\n      .onSnapshot(\r\n        (querySnapshot) => {\r\n          let items = [];\r\n          querySnapshot.forEach((doc) => {\r\n            items.push(doc.data());\r\n          });\r\n          setReviewComments(items);\r\n          setLoading(false);\r\n        },\r\n        (error) => {\r\n          enqueueSnackbar(\"Something went wrong\", {\r\n            variant: \"error\",\r\n          });\r\n        }\r\n      );\r\n  };\r\n\r\n  // #handlers : post a comment\r\n\r\n  const initialValues = {\r\n    reviewCommentBody: \"\",\r\n  };\r\n\r\n  const onSubmit = async (values, { resetForm }) => {\r\n    const { reviewCommentBody } = values;\r\n    setLoading(true);\r\n    const db = app.firestore();\r\n    const newReviewComment = {\r\n      reviewCommentID: uuidv4(),\r\n      reviewID: review.reviewID,\r\n      commenter: currentUser.displayName,\r\n      commenterID: currentUser.uid,\r\n      commenterPhotoUrl: currentUser.photoURL,\r\n      reviewCommentCreatedAt: new Date().toISOString(),\r\n      reviewCommentModifiedAt: \"\",\r\n      reviewCommentBody: reviewCommentBody,\r\n      reviewCommenLikeCount: 0,\r\n      //check if edited\r\n      reviewCommenIsEdited: false,\r\n    };\r\n\r\n    try {\r\n      await db\r\n        .doc(`reviewComments/${newReviewComment.reviewCommentID}`)\r\n        .set(newReviewComment)\r\n        .then(() => {\r\n          enqueueSnackbar(\"Comment created successfully\", {\r\n            variant: \"success\",\r\n          });\r\n          // handleCloseModel(false);\r\n        })\r\n        .catch((e) => {\r\n          throw new Error(e);\r\n        })\r\n        .finally(() => {\r\n          setLoading(false);\r\n          resetForm({ values: \"\" });\r\n        });\r\n    } catch (error) {\r\n      enqueueSnackbar(\"Something went wrong\", {\r\n        variant: \"error\",\r\n      });\r\n    }\r\n  };\r\n\r\n  // #handlers : delete a comment\r\n\r\n  const deleteReviewComment = async (commentID, commenterID) => {\r\n    let db = app.firestore();\r\n\r\n    try {\r\n      if (currentUser.uid === commenterID) {\r\n        let document = db.doc(`reviewComments/${commentID}`);\r\n        await document\r\n          .get()\r\n          .then(async (doc) => {\r\n            if (!doc.exists) {\r\n              throw new Error(\"Document does not exists\");\r\n            }\r\n            if (\r\n              doc.data().commenterID !== currentUser.uid ||\r\n              currentUser.admin === true\r\n            ) {\r\n              throw new Error(\"Insufficient Permissions\");\r\n            } else {\r\n              return await document.delete();\r\n            }\r\n          })\r\n          .then(() => {\r\n            enqueueSnackbar(\"Comment deleted\", {\r\n              variant: \"info\",\r\n            });\r\n          });\r\n      } else {\r\n        throw new Error(\"Insufficient Permissions\");\r\n      }\r\n    } catch (error) {\r\n      enqueueSnackbar(\"Something went wrong\", {\r\n        variant: \"error\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.ScuiContentCard}>\r\n      <CardHeader\r\n        avatar={\r\n          <Avatar className={classes.ScuiAvaterMedium} onClick={handleClick}>\r\n            <img\r\n              src={review.reviewerPhotoUrl}\r\n              alt=\"\"\r\n              className={classes.ScuiAvayerMediumImage}\r\n            />\r\n          </Avatar>\r\n        }\r\n        action={\r\n          <>\r\n            <IconButton aria-label=\"settings\" onClick={handleMenuOpen}>\r\n              <MoreVertIcon />\r\n            </IconButton>\r\n            {currentUser ? (\r\n              <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={menuOpen}\r\n                open={Boolean(menuOpen)}\r\n                onClose={handleMenuClose}\r\n                className={clsx(\r\n                  classes.ScuiMenuSmall,\r\n                  classes.ScuiMenuSmallPaddingReview\r\n                )}\r\n              >\r\n                {review.reviewerID === currentUser.uid ? (\r\n                  <>\r\n                    <MenuItem onClick={handleOpenModel}>\r\n                      <Typography variant=\"h5\">Update</Typography>\r\n                    </MenuItem>\r\n                    <Modal\r\n                      className={classes.modal}\r\n                      open={open}\r\n                      onClose={handleCloseModel}\r\n                      closeAfterTransition\r\n                      BackdropComponent={Backdrop}\r\n                      BackdropProps={{\r\n                        timeout: 500,\r\n                      }}\r\n                    >\r\n                      <Fade in={open}>\r\n                        <div className={classes.paper}>\r\n                          <UpdateReview\r\n                            handleCloseModel={handleCloseModel}\r\n                            review={review}\r\n                          />\r\n                        </div>\r\n                      </Fade>\r\n                    </Modal>\r\n                    <MenuItem\r\n                      onClick={() => {\r\n                        deleteReview(review.reviewID, review.reviewerID);\r\n                      }}\r\n                    >\r\n                      <Typography variant=\"h5\">Delete</Typography>\r\n                    </MenuItem>\r\n                  </>\r\n                ) : currentUser.admin === true ? (\r\n                  <>\r\n                    <MenuItem\r\n                      onClick={() => {\r\n                        deleteReview(review.reviewID, review.reviewerID);\r\n                      }}\r\n                    >\r\n                      <Typography variant=\"h5\">Delete</Typography>\r\n                    </MenuItem>\r\n                  </>\r\n                ) : null}\r\n                <MenuItem onClick={handleMenuClose}>\r\n                  <Typography variant=\"h5\">Report</Typography>\r\n                </MenuItem>\r\n              </Menu>\r\n            ) : null}\r\n          </>\r\n        }\r\n        title={\r\n          <>\r\n            <Link\r\n              onClick={handleClick}\r\n              className={classes.ScuiLinkUnderLineRemove}\r\n            >\r\n              <Typography variant=\"caption\" color=\"primary\">\r\n                {review.reviewer}\r\n              </Typography>\r\n            </Link>\r\n\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={anchorEl}\r\n              keepMounted\r\n              open={Boolean(anchorEl)}\r\n              onClose={handleClose}\r\n              className={classes.menuMini}\r\n            >\r\n              <ProfileMiniCard rid={review.reviewerID} trigger={anchorEl} />\r\n            </Menu>\r\n          </>\r\n        }\r\n        subheader={\r\n          <>\r\n            <Typography variant=\"h5\">\r\n              {formatDistanceToNow(new Date(review.reviewCreatedAt))}\r\n            </Typography>\r\n          </>\r\n        }\r\n      />\r\n      <CardContent>\r\n        {/* <Divider className={classes.ScuiDividerTB1} /> */}\r\n        <Typography variant=\"body1\" color=\"textPrimary\">\r\n          {review.reviewBody}\r\n        </Typography>\r\n        <Divider className={classes.ScuiDividerT24} />\r\n      </CardContent>\r\n      <CardActions disableSpacing>\r\n        <IconButton aria-label=\"add to favorites\">\r\n          <FavoriteIcon />\r\n        </IconButton>\r\n        <IconButton aria-label=\"share\">\r\n          <ShareIcon />\r\n        </IconButton>\r\n        <IconButton\r\n          className={clsx(classes.expand, {\r\n            [classes.expandOpen]: expanded,\r\n          })}\r\n          onClick={handleExpandClick}\r\n          aria-expanded={expanded}\r\n        >\r\n          <CommentIcon />\r\n        </IconButton>\r\n      </CardActions>\r\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n        <CardContent>\r\n          {currentUser ? (\r\n            <Formik\r\n              initialValues={initialValues}\r\n              validationSchema={validationSchema}\r\n              onSubmit={onSubmit}\r\n              validateOnChange={true}\r\n              validateOnBlur={false}\r\n            >\r\n              {(props) => {\r\n                const {\r\n                  values,\r\n                  touched,\r\n                  errors,\r\n                  handleChange,\r\n                  handleBlur,\r\n                } = props;\r\n                return (\r\n                  <Form>\r\n                    {values.reviewCommentBody.length > 0\r\n                      ? setIsText(true)\r\n                      : setIsText(false)}\r\n                    <Grid container spacing={2}>\r\n                      <Grid item xs={isText ? 11 : 12}>\r\n                        <FormControl error fullWidth>\r\n                          <TextareaAutosize\r\n                            className={classes.ScuiTextAreaSmall}\r\n                            label=\"Comment\"\r\n                            variant=\"outlined\"\r\n                            id=\"reviewCommentBody\"\r\n                            rowsMin={3}\r\n                            placeholder=\"Give a comment\"\r\n                            value={values.reviewCommentBody}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                          />\r\n                        </FormControl>\r\n                      </Grid>\r\n                      {isText === true && (\r\n                        <Fade in={isText}>\r\n                          <Grid item xs={isText ? 1 : 0}>\r\n                            <IconButton\r\n                              variant=\"contained\"\r\n                              type=\"submit\"\r\n                              color=\"primary\"\r\n                            >\r\n                              <SendIcon />\r\n                            </IconButton>\r\n                          </Grid>\r\n                        </Fade>\r\n                      )}\r\n                    </Grid>\r\n                  </Form>\r\n                );\r\n              }}\r\n            </Formik>\r\n          ) : null}\r\n\r\n          <Box mt={2}>\r\n            {reviewComments &&\r\n              reviewComments.map((comment, i) => (\r\n                <ReviewCommentsCard\r\n                  comment={comment}\r\n                  deleteReviewComment={deleteReviewComment}\r\n                />\r\n              ))}\r\n          </Box>\r\n        </CardContent>\r\n      </Collapse>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default withStyles(MuiDistributor)(ReviewCard);\r\n",{"ruleId":"158","severity":1,"message":"159","line":20,"column":21,"nodeType":"160","messageId":"161","endLine":20,"endColumn":30},{"ruleId":"158","severity":1,"message":"162","line":40,"column":8,"nodeType":"160","messageId":"161","endLine":40,"endColumn":16},{"ruleId":"158","severity":1,"message":"163","line":41,"column":8,"nodeType":"160","messageId":"161","endLine":41,"endColumn":16},{"ruleId":"158","severity":1,"message":"164","line":58,"column":10,"nodeType":"160","messageId":"161","endLine":58,"endColumn":17},{"ruleId":"158","severity":1,"message":"165","line":60,"column":10,"nodeType":"160","messageId":"161","endLine":60,"endColumn":14},{"ruleId":"158","severity":1,"message":"166","line":96,"column":13,"nodeType":"160","messageId":"161","endLine":96,"endColumn":15},{"ruleId":"158","severity":1,"message":"167","line":151,"column":9,"nodeType":"160","messageId":"161","endLine":151,"endColumn":20},{"ruleId":"158","severity":1,"message":"168","line":26,"column":20,"nodeType":"160","messageId":"161","endLine":26,"endColumn":25},{"ruleId":"158","severity":1,"message":"169","line":28,"column":10,"nodeType":"160","messageId":"161","endLine":28,"endColumn":15},{"ruleId":"158","severity":1,"message":"169","line":33,"column":10,"nodeType":"160","messageId":"161","endLine":33,"endColumn":15},{"ruleId":"170","severity":1,"message":"171","line":79,"column":6,"nodeType":"172","endLine":79,"endColumn":19,"suggestions":"173"},{"ruleId":"174","replacedBy":"175"},{"ruleId":"176","replacedBy":"177"},{"ruleId":"158","severity":1,"message":"178","line":2,"column":10,"nodeType":"160","messageId":"161","endLine":2,"endColumn":17},{"ruleId":"179","severity":1,"message":"180","line":84,"column":29,"nodeType":"181","messageId":"182","endLine":84,"endColumn":31},{"ruleId":"170","severity":1,"message":"183","line":23,"column":6,"nodeType":"172","endLine":23,"endColumn":8,"suggestions":"184"},{"ruleId":"174","replacedBy":"185"},{"ruleId":"176","replacedBy":"186"},{"ruleId":"170","severity":1,"message":"183","line":73,"column":6,"nodeType":"172","endLine":73,"endColumn":8,"suggestions":"187"},{"ruleId":"158","severity":1,"message":"188","line":7,"column":15,"nodeType":"160","messageId":"161","endLine":7,"endColumn":19},{"ruleId":"158","severity":1,"message":"189","line":33,"column":3,"nodeType":"160","messageId":"161","endLine":33,"endColumn":11},{"ruleId":"158","severity":1,"message":"190","line":47,"column":11,"nodeType":"160","messageId":"161","endLine":47,"endColumn":22},{"ruleId":"158","severity":1,"message":"191","line":52,"column":9,"nodeType":"160","messageId":"161","endLine":52,"endColumn":16},{"ruleId":"158","severity":1,"message":"164","line":65,"column":10,"nodeType":"160","messageId":"161","endLine":65,"endColumn":17},{"ruleId":"170","severity":1,"message":"192","line":120,"column":6,"nodeType":"172","endLine":120,"endColumn":16,"suggestions":"193"},{"ruleId":"158","severity":1,"message":"194","line":397,"column":19,"nodeType":"160","messageId":"161","endLine":397,"endColumn":26},{"ruleId":"158","severity":1,"message":"195","line":398,"column":19,"nodeType":"160","messageId":"161","endLine":398,"endColumn":25},{"ruleId":"170","severity":1,"message":"196","line":33,"column":6,"nodeType":"172","endLine":33,"endColumn":8,"suggestions":"197"},{"ruleId":"198","severity":1,"message":"199","line":37,"column":9,"nodeType":"200","endLine":37,"endColumn":26},{"ruleId":"198","severity":1,"message":"199","line":74,"column":9,"nodeType":"200","endLine":74,"endColumn":32},{"ruleId":"198","severity":1,"message":"199","line":86,"column":9,"nodeType":"200","endLine":86,"endColumn":32},{"ruleId":"158","severity":1,"message":"201","line":7,"column":8,"nodeType":"160","messageId":"161","endLine":7,"endColumn":15},{"ruleId":"158","severity":1,"message":"202","line":2,"column":10,"nodeType":"160","messageId":"161","endLine":2,"endColumn":14},{"ruleId":"158","severity":1,"message":"203","line":4,"column":15,"nodeType":"160","messageId":"161","endLine":4,"endColumn":22},{"ruleId":"158","severity":1,"message":"164","line":49,"column":10,"nodeType":"160","messageId":"161","endLine":49,"endColumn":17},{"ruleId":"158","severity":1,"message":"204","line":1,"column":38,"nodeType":"160","messageId":"161","endLine":1,"endColumn":45},{"ruleId":"158","severity":1,"message":"164","line":67,"column":10,"nodeType":"160","messageId":"161","endLine":67,"endColumn":17},{"ruleId":"170","severity":1,"message":"205","line":107,"column":6,"nodeType":"172","endLine":107,"endColumn":16,"suggestions":"206"},{"ruleId":"158","severity":1,"message":"194","line":364,"column":19,"nodeType":"160","messageId":"161","endLine":364,"endColumn":26},{"ruleId":"158","severity":1,"message":"195","line":365,"column":19,"nodeType":"160","messageId":"161","endLine":365,"endColumn":25},"no-unused-vars","'isWidthUp' is defined but never used.","Identifier","unusedVar","'Snackbar' is defined but never used.","'MuiAlert' is defined but never used.","'loading' is assigned a value but never used.","'open' is assigned a value but never used.","'db' is assigned a value but never used.","'handleClose' is assigned a value but never used.","'width' is assigned a value but never used.","'error' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'upp'. Either include it or remove the dependency array.","ArrayExpression",["207"],"no-native-reassign",["208"],"no-negated-in-lhs",["209"],"'useAuth' is defined but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","React Hook useEffect has a missing dependency: 'getConversation'. Either include it or remove the dependency array.",["210"],["208"],["209"],["211"],"'auth' is defined but never used.","'MenuItem' is defined but never used.","'currentUser' is assigned a value but never used.","'history' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getBlogComments'. Either include it or remove the dependency array.",["212"],"'touched' is assigned a value but never used.","'errors' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'findUser'. Either include it or remove the dependency array.",["213"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","'Contact' is defined but never used.","'Link' is defined but never used.","'stroage' is defined but never used.","'useMemo' is defined but never used.","React Hook useEffect has a missing dependency: 'getReviewComments'. Either include it or remove the dependency array.",["214"],{"desc":"215","fix":"216"},"no-global-assign","no-unsafe-negation",{"desc":"217","fix":"218"},{"desc":"217","fix":"219"},{"desc":"220","fix":"221"},{"desc":"222","fix":"223"},{"desc":"224","fix":"225"},"Update the dependencies array to be: [currentUser, upp]",{"range":"226","text":"227"},"Update the dependencies array to be: [getConversation]",{"range":"228","text":"229"},{"range":"230","text":"229"},"Update the dependencies array to be: [expanded, getBlogComments]",{"range":"231","text":"232"},"Update the dependencies array to be: [findUser]",{"range":"233","text":"234"},"Update the dependencies array to be: [expanded, getReviewComments]",{"range":"235","text":"236"},[2256,2269],"[currentUser, upp]",[739,741],"[getConversation]",[1699,1701],[3106,3116],"[expanded, getBlogComments]",[829,831],"[findUser]",[2680,2690],"[expanded, getReviewComments]"]